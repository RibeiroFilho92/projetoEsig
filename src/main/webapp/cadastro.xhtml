<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title>ESIG - Cadastro de atividades</title>
</h:head>

<h:body style="margin:10px;">
	<h:form id="formCadastrarAtividade">
		<h:messages infoStyle="color:red"/>
		<br />
		<h:panelGrid columns="2">

			<h:outputText value="ID" />
			<b:inputText id="campoID" value="#{atividadeBean.atividade.id}"
				readonly="true" />

			<h:outputText value="Título" />
			<b:inputText id="campoTitulo"
				value="#{atividadeBean.atividade.titulo}" />

			<h:outputText value="Descrição" />
			<b:inputTextarea columns="40" rows="3" id="campoDescricao"
				value="#{atividadeBean.atividade.descricao}" />

			<h:outputText value="Responsável" />
			<b:inputText id="campoResponsavel"
				value="#{atividadeBean.atividade.responsavel}" />

			<h:outputText value="Prioridade" />
			<b:inputText id="campoPrioridade"
				value="#{atividadeBean.atividade.prioridade}" />
				
			<h:outputText value="Deadline" />
			<b:inputText id="campoDeadline" value="#{atividadeBean.atividade.deadline}" converterMessage="Data em formato inválido: deve obedecer dia/mês/ano">
				<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR" timeZone="GMT-03:00"></f:convertDateTime>
			</b:inputText>
			

			<b:commandButton value="Cadastrar/Atualizar atividade"
				action="#{atividadeBean.salvar}" />

			<b:commandButton value="Novo registro" action="#{atividadeBean.novo}" />

		</h:panelGrid>
	</h:form>
	<br />
	<b:form id="formExibirAtividade">

		<b:dataTable value="#{atividadeBean.atividades}" var="atividade" cellpadding="3" caprion="Lista de atividades">

			<b:dataTableColumn>
				<f:facet name="header">ID</f:facet>
				<h:outputText value="#{atividade.id}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Título</f:facet>
				<h:outputText value="#{atividade.titulo}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Descrição</f:facet>
				<h:outputText value="#{atividade.descricao}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Responsável</f:facet>
				<h:outputText value="#{atividade.responsavel}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Prioridade</f:facet>
				<h:outputText value="#{atividade.prioridade}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Deadline</f:facet>
				<h:outputText value="#{atividade.deadline}"></h:outputText>
			</b:dataTableColumn>
			<b:dataTableColumn>
				<f:facet name="header">Ação</f:facet>
				<h:commandLink value="Editar">
					<f:setPropertyActionListener value="#{atividade}"
						target="#{atividadeBean.atividade}" />
				</h:commandLink>
				<span></span>
				<h:commandLink value="Remover" action="#{atividadeBean.remover}">
					<f:setPropertyActionListener value="#{atividade}"
						target="#{atividadeBean.atividade}" />
				</h:commandLink>
			</b:dataTableColumn>
		</b:dataTable>
	</b:form>

</h:body>
</html>