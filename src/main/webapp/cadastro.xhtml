<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<title>ESIG - Cadastro de atividades</title>
</h:head>

<h:body>
	<h:form id="formCadastrarAtividade">

		<h:panelGrid columns="2">

			<f:facet name="header">
				<h:outputText value="Cadastro de atividade"></h:outputText>
			</f:facet>
			<h:outputText value="ID" />
			<h:inputText id="campoID" value="#{atividadeBean.atividade.id}"
				readonly="true" />

			<h:outputText value="Título" />
			<h:inputText id="campoTitulo"
				value="#{atividadeBean.atividade.titulo}" />

			<h:outputText value="Descrição" />
			<h:inputTextarea columns="40" rows="3" id="campoDescricao"
				value="#{atividadeBean.atividade.descricao}" />

			<h:outputText value="Responsável" />
			<h:inputText id="campoResponsavel"
				value="#{atividadeBean.atividade.responsavel}" />

			<h:outputText value="Prioridade" />
			<h:inputText id="campoPrioridade"
				value="#{atividadeBean.atividade.prioridade}" />
				
			<h:outputText value="Deadline" />
			<h:inputText id="campoDeadline" value="#{atividadeBean.atividade.deadline}">
				<f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
			</h:inputText>
			

			<h:commandButton value="Cadastrar/Atualizar atividade"
				action="#{atividadeBean.salvar}" />

			<h:commandButton value="Novo registro" action="#{atividadeBean.novo}" />

		</h:panelGrid>

	</h:form>

	<h:form id="formExibirAtividade">

		<h:dataTable value="#{atividadeBean.atividades}" var="atividade" cellpadding="3">

			<f:facet name="header">
				<h:outputText value="Lista de atividades"></h:outputText>
			</f:facet>

			<h:column>
				<f:facet name="header">ID</f:facet>
				<h:outputText value="#{atividade.id}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Título</f:facet>
				<h:outputText value="#{atividade.titulo}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Descrição</f:facet>
				<h:outputText value="#{atividade.descricao}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Responsável</f:facet>
				<h:outputText value="#{atividade.responsavel}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Prioridade</f:facet>
				<h:outputText value="#{atividade.prioridade}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Deadline</f:facet>
				<h:outputText value="#{atividade.deadline}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">Ação</f:facet>
				<h:commandLink value="Editar">
					<f:setPropertyActionListener value="#{atividade}"
						target="#{atividadeBean.atividade}" />
				</h:commandLink>
				<span></span>
				<h:commandLink value="Remover" action="#{atividadeBean.remover}">
					<f:setPropertyActionListener value="#{atividade}"
						target="#{atividadeBean.atividade}" />
				</h:commandLink>
			</h:column>
		</h:dataTable>
	</h:form>

</h:body>
</html>